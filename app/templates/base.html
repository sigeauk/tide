<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}TIDE{% endblock %}</title>
    
    <!-- Brand Hue Override from .env -->
    <style>
        :root {
            --brand-hue: {{ brand_hue | default(240) }};
        }
    </style>
    
    <!-- Tailwind CSS with cache busting -->
    <link rel="stylesheet" href="/static/css/dist/styles.css?v={{ cache_bust | default(range(1, 99999) | random) }}">
    
    <!-- HTMX Core + Head Support Extension (bundled locally for air-gapped/standalone) -->
    <script defer src="/static/js/htmx.min.js?v={{ cache_bust | default('0') }}"></script>
    <script defer src="/static/js/vendor/head-support.min.js?v={{ cache_bust | default('0') }}"></script>
    
    <!-- TIDE Application JavaScript -->
    <script defer src="/static/js/app.js?v={{ cache_bust | default(range(1, 99999) | random) }}"></script>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/static/icons/tide.png">
    
    {% block head %}{% endblock %}
</head>
<body hx-boost="true" hx-ext="head-support">
    <!-- App Layout Container -->
    <div class="app-layout">
        <!-- Sidebar -->
        {% include "components/sidebar.html" %}
        
        <!-- Main Content Area -->
        <main class="main-content">
            {% block content %}{% endblock %}
        </main>
    </div>
    
    <!-- Toast Container -->
    <div id="toast-container" class="toast-container"></div>
    
    {% block scripts %}{% endblock %}
</body>
</html>
